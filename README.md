# 賬單分攤應用 - 用戶手冊

## 簡介
「賬單分攤應用 - 外幣支持版」是一個專為國際旅行、跨境消費或任何涉及多種貨幣的分攤場合設計的Web應用程式。它可以幫助您輕鬆記錄各項開支（支持多種貨幣），自動進行貨幣轉換，計算每位參與者應付的金額，並提供清晰的結算明細。

## 主要功能
- 記錄多個消費項目及金額，支持多種貨幣
- 自定義貨幣匯率設置
- 自動貨幣轉換和計算功能
- 支持平均分攤和自定義金額分攤兩種模式
- 自動計算每位參與者的應付/應收金額
- 數據本地存儲，關閉頁面後不會丟失
- 響應式設計，支持各種設備屏幕

## 快速開始

### 1. 初始設置
首次使用時，系統已預設以下貨幣和匯率（以HKD為基礎貨幣）：
- HKD (港幣) - 基礎貨幣
- JPY (日圓) - 匯率: 1 HKD = 18.97 JPY
- CNY (人民幣) - 匯率: 1 HKD = 0.92 CNY
- TWD (台幣) - 匯率: 1 HKD = 3.92 TWD

### 2. 設置參與人員
點擊右上角的「設置」按鈕：
- 在「設置參與人員」區域添加所有參與分攤的人員名稱
- 點擊「添加人員」按鈕增加新成員
- 輸入每位成員的名稱
- 可以點擊垃圾桶圖標刪除參與者

### 3. 貨幣設置（可選）
在設置頁面的「貨幣設置」區域：
- 選擇基礎貨幣（所有計算將以此貨幣為基準）
- 查看/修改現有貨幣匯率
- 點擊「添加貨幣」增加新貨幣
- 為每種貨幣設置匯率（1基礎貨幣 = ?外幣）

### 4. 添加消費項目
在主頁面的「添加新項目」區域填寫消費信息：
- **項目名稱**：輸入消費項目名稱（如：日本交通卡、台灣夜市消費等）
- **總金額**：輸入該項目的總花費金額，並選擇貨幣種類
- **支付者**：選擇實際支付此費用的人員
- **分攤方式**：
  - 平均分攤：系統會自動將總金額平均分給所有參與者
  - 自定義金額：手動為每位參與者指定分攤金額

### 5. 查看結算詳情
添加項目後，系統會自動計算並顯示：
- 總支出金額（以基礎貨幣顯示）
- 待結算金額（以基礎貨幣顯示）
- 每位參與者的應付總額、已付總額和結算金額（均以基礎貨幣顯示）
- 詳細的結算信息（誰應該收錢、誰應該付錢）

## 詳細功能說明

### 項目管理
- **添加項目**：填寫項目信息後點擊「添加項目」按鈕
- **編輯項目**：點擊項目右側的編輯圖標（鉛筆）修改項目詳情
- **刪除項目**：點擊項目右側的刪除圖標（垃圾桶）移除項目

### 貨幣與匯率管理
1. **基礎貨幣設置**：在設置頁面選擇基礎貨幣，所有計算將以此貨幣為基準
2. **匯率管理**：可以添加、刪除貨幣，並設置各種貨幣對基礎貨幣的匯率
3. **自動轉換**：系統會自動將不同貨幣的金額轉換為基礎貨幣進行計算

### 分攤方式
1. **平均分攤**：
   - 系統會自動計算每人應付金額
   - 自動處理小數點精度問題，最後一個人承擔餘數

2. **自定義金額**：
   - 為每位參與者指定具體分攤金額
   - 系統會驗證自定義金額總和是否等於項目總金額

### 數據管理
- **自動保存**：所有數據會自動保存到瀏覽器的本地存儲中
- **清除數據**：在設置頁面點擊「清除所有數據」按鈕可重置所有信息
- **數據持久化**：即使關閉瀏覽器，再次打開時數據仍然存在

## 使用技巧

1. **國際旅行規劃**：記錄在不同國家的消費，系統會自動處理貨幣轉換
2. **團體消費分賬**：特別適合有多人參與的國際旅行、跨境購物等場景
3. **匯率記錄**：可以根據實際匯率設置準確的換算比例
4. **多貨幣支持**：可以添加任何需要的貨幣，並設置相應匯率

## 常見問題

### 問：如何修改參與人員？
答：點擊右上角「設置」按鈕，在設置頁面中可以添加、刪除或修改參與人員名稱，完成後點擊「保存設置」。

### 問：如何添加新的貨幣？
答：在設置頁面的「貨幣設置」部分，點擊「添加貨幣」按鈕，輸入貨幣代碼和匯率，然後點擊「保存設置」。

### 問：自定義分攤金額總和與總金額不一致怎麼辦？
答：系統會自動檢查自定義金額總和，如果不一致會提示錯誤，需要調整金額直到總和等於項目總金額。

### 問：數據會保存多久？
答：數據會保存在瀏覽器的本地存儲中，除非手動清除瀏覽器數據或點擊「清除所有數據」按鈕，否則會一直保留。

### 問：可以在手機上使用嗎？
答：可以，本應用採用響應式設計，在手機、平板和電腦上均可正常使用。

### 問：如何更改基礎貨幣？
答：在設置頁面的「貨幣設置」部分，從下拉菜單中選擇新的基礎貨幣，然後點擊「保存設置」。請注意，更改基礎貨幣會影響所有已記錄項目的計算結果。

## 注意事項
1. 本應用數據僅存儲在本地瀏覽器中，不會上傳到任何服務器
2. 清除瀏覽器緩存會同時刪除所有數據，建議重要數據另行備份
3. 匯率需要手動設置，請確保使用準確的匯率以獲得正確的計算結果
4. 本應用僅提供計算參考，實際結算請以雙方確認為準

## 支持與反饋
如果您在使用過程中遇到任何問題或有改進建議，請通過相關渠道聯繫開發者。我們會持續更新和完善這個應用程式。

---
祝您使用愉快！